openapi: 3.0.0
info:
  title: Christful Backend API
  description: Documentation of the Christful backend endpoints for AI consumption and frontend development.
  version: 1.0.1
servers:
  - url: https://christful-backend.vercel.app # Example URL, should be updated or made relative
    description: Production server


components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  
  schemas:
    User:
      type: object
      properties:
        id:
          type: string
          format: uuid
        firstName:
          type: string
        lastName:
          type: string
        email:
          type: string
          format: email
        bio:
          type: string
          nullable: true
        avatarUrl:
          type: string
          nullable: true
        googleId:
          type: string
          nullable: true
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    
    Post:
      type: object
      properties:
        id: { type: string, format: uuid }
        content: { type: string, nullable: true }
        imageUrl: { type: string, nullable: true }
        videoUrl: { type: string, nullable: true }
        audioUrl: { type: string, nullable: true }
        mediaType: { type: string, enum: [text, image, video, audio, text_image, text_video, text_audio] }
        userId: { type: string, format: uuid }
        author: { $ref: '#/components/schemas/User' }
        likes: { type: array, items: { type: object } }
        comments: { type: array, items: { $ref: '#/components/schemas/Comment' } }
        createdAt: { type: string, format: date-time }
        updatedAt: { type: string, format: date-time }

    Comment:
      type: object
      properties:
        id: { type: string, format: uuid }
        content: { type: string }
        userId: { type: string, format: uuid }
        postId: { type: string, format: uuid }
        parentCommentId: { type: string, format: uuid, nullable: true }
        author: { $ref: '#/components/schemas/User' }
        likes: { type: array, items: { type: object } }
        createdAt: { type: string, format: date-time }
        updatedAt: { type: string, format: date-time }

    Community:
      type: object
      properties:
        id: { type: string, format: uuid }
        name: { type: string }
        description: { type: string, nullable: true }
        avatarUrl: { type: string, nullable: true }
        coverUrl: { type: string, nullable: true }
        isPrivate: { type: boolean }
        createdBy: { type: string, format: uuid }
        creator: { $ref: '#/components/schemas/User' }
        memberships: { type: array, items: { $ref: '#/components/schemas/Membership' } }
        groups: { type: array, items: { $ref: '#/components/schemas/Group' } }
        createdAt: { type: string, format: date-time }
        updatedAt: { type: string, format: date-time }

    Membership:
      type: object
      properties:
        id: { type: string, format: uuid }
        userId: { type: string, format: uuid }
        communityId: { type: string, format: uuid }
        role: { type: string, enum: [member, moderator, admin] }
        user: { $ref: '#/components/schemas/User' }

    JoinRequest:
      type: object
      properties:
        id: { type: string, format: uuid }
        userId: { type: string, format: uuid }
        communityId: { type: string, format: uuid }
        status: { type: string, enum: [pending, approved, rejected] }
        user: { $ref: '#/components/schemas/User' }

    Group:
      type: object
      properties:
        id: { type: string, format: uuid }
        name: { type: string }
        description: { type: string, nullable: true }
        communityId: { type: string, format: uuid, nullable: true }
        createdBy: { type: string, format: uuid }
        inviteToken: { type: string, nullable: true }
        adminOnlyMessaging: { type: boolean }
        creator: { $ref: '#/components/schemas/User' }
        community: { type: object } # Simplified
        members: { type: array, items: { $ref: '#/components/schemas/GroupMember' } }
        createdAt: { type: string, format: date-time }
        updatedAt: { type: string, format: date-time }

    GroupMember:
      type: object
      properties:
        id: { type: string, format: uuid }
        userId: { type: string, format: uuid }
        groupId: { type: string, format: uuid }
        role: { type: string, enum: [member, admin] }
        user: { $ref: '#/components/schemas/User' }

    Message:
      type: object
      properties:
        id: { type: string, format: uuid }
        content: { type: string, nullable: true }
        mediaType: { type: string, enum: [text, image, video, audio, text_image, text_video, text_audio] }
        imageUrl: { type: string, nullable: true }
        videoUrl: { type: string, nullable: true }
        audioUrl: { type: string, nullable: true }
        userId: { type: string, format: uuid }
        groupChatId: { type: string, format: uuid }
        replyToMessageId: { type: string, format: uuid, nullable: true }
        sender: { $ref: '#/components/schemas/User' }
        replyToMessage: { $ref: '#/components/schemas/Message' }
        reactions: { type: array, items: { $ref: '#/components/schemas/MessageReaction' } }
        createdAt: { type: string, format: date-time }
        updatedAt: { type: string, format: date-time }

    MessageReaction:
      type: object
      properties:
        id: { type: string, format: uuid }
        messageId: { type: string, format: uuid }
        userId: { type: string, format: uuid }
        emoji: { type: string }
        user: { $ref: '#/components/schemas/User' }

    Notification:
      type: object
      properties:
        id: { type: string, format: uuid }
        userId: { type: string, format: uuid }
        type: { type: string, enum: [like, comment, follow, join_community, join_request, join_approved, join_rejected, added_to_group, user_joined_group] }
        message: { type: string }
        relatedId: { type: string, format: uuid }
        isRead: { type: boolean }
        createdAt: { type: string, format: date-time }
        updatedAt: { type: string, format: date-time }

    Error:
      type: object
      properties:
        message:
          type: string
        error:
          type: string

paths:
  /:
    get:
      summary: Welcome endpoint
      responses:
        '200':
          description: OK
          content:
            application/json:
              example:
                message: "Welcome to the Backend API \uD83D\uDE80"
                note: "We hope you don\u2019t find our endpoints faulty \uD83D\uDE09"

  /register:
    post:
      summary: Register a new user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [firstName, lastName, email, password]
              properties:
                firstName: { type: string }
                lastName: { type: string }
                email: { type: string, format: email }
                password: { type: string, minLength: 6 }
      responses:
        '201':
          description: User created
          content:
            application/json:
              example:
                message: "Registration successful"
                user: { id: "uuid", firstName: "John", lastName: "Doe", email: "john@example.com" }
        '400':
          description: Bad request (e.g. email exists)
          content:
            application/json: { schema: { $ref: '#/components/schemas/Error' } }

  /login:
    post:
      summary: Login with email and password
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email: { type: string, format: email }
                password: { type: string }
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              example:
                message: "Login successful"
                user: { id: "uuid", email: "john@example.com", firstName: "John", lastName: "Doe" }
                token: "jwt_token"
        '401':
          description: Unauthorized
        '404':
          description: User not found

  /google-auth:
    post:
      summary: Login/Register with Google
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [access_token]
              properties:
                access_token: { type: string }
      responses:
        '200':
          description: Success
          content:
            application/json:
              example:
                token: "jwt_token"
                user: { id: "uuid", ... }

  /auth/me:
    patch:
      summary: Update current user profile (bio/avatar)
      security: [{ bearerAuth: [] }]
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                bio: { type: string }
                avatar: { type: string, format: binary }
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message: { type: string }
                  user: { $ref: '#/components/schemas/User' }

  /forgot-password:
    post:
      summary: Send password reset link
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email]
              properties:
                email: { type: string, format: email }
      responses:
        '200':
          description: Success (message is generic for security)

  /reset-password:
    post:
      summary: Reset password with token
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [token, newPassword]
              properties:
                token: { type: string }
                newPassword: { type: string, minLength: 8 }
      responses:
        '200':
          description: Success

  /user:
    get:
      summary: Get current authenticated user
      security: [{ bearerAuth: [] }]
      responses:
        '200':
          description: Success
          content:
            application/json: { schema: { $ref: '#/components/schemas/User' } }

  /users:
    get:
      summary: Get all users
      security: [{ bearerAuth: [] }]
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: array
                items: { $ref: '#/components/schemas/User' }

  /users/{id}:
    get:
      summary: Get user by ID
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success
          content:
            application/json: { schema: { $ref: '#/components/schemas/User' } }
    put:
      summary: Update user (Admin/Internal use)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName: { type: string }
                lastName: { type: string }
                email: { type: string, format: email }
                password: { type: string }
      responses:
        '200':
          description: Success
    delete:
      summary: Delete user
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /profile:
    get:
      summary: Get current user profile (Alias for /user)
      security: [{ bearerAuth: [] }]
      responses:
        '200':
          description: Success
          content:
            application/json: { schema: { $ref: '#/components/schemas/User' } }

  /sendemail:
    post:
      summary: Send welcome email to user
      security: [{ bearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email]
              properties:
                email: { type: string, format: email }
      responses:
        '200':
          description: Success

  /posts:
    post:
      summary: Create a new post
      security: [{ bearerAuth: [] }]
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                content: { type: string }
                image: { type: string, format: binary }
                video: { type: string, format: binary }
                audio: { type: string, format: binary }
      responses:
        '201':
          description: Post created
          content:
            application/json:
              schema:
                type: object
                properties:
                  message: { type: string }
                  post: { $ref: '#/components/schemas/Post' }
    get:
      summary: Get all posts (Paginated)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: page
          in: query
          schema: { type: integer, default: 1 }
        - name: limit
          in: query
          schema: { type: integer, default: 10 }
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  posts: { type: array, items: { $ref: '#/components/schemas/Post' } }
                  total: { type: integer }
                  page: { type: integer }
                  totalPages: { type: integer }

  /posts/{id}:
    get:
      summary: Get post by ID
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success
          content:
            application/json: { schema: { $ref: '#/components/schemas/Post' } }
    put:
      summary: Update a post
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                content: { type: string }
      responses:
        '200':
          description: Success
    delete:
      summary: Delete a post
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /posts/{id}/like:
    post:
      summary: Like/Unlike a post
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Unliked
        '201':
          description: Liked

  /reels:
    post:
      summary: Create a new reel
      security: [{ bearerAuth: [] }]
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              required: [video]
              properties:
                content: { type: string }
                video: { type: string, format: binary }
      responses:
        '201':
          description: Reel created

  /reels/suggested:
    get:
      summary: Get suggested reels (Paginated)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: page
          in: query
          schema: { type: integer, default: 1 }
        - name: limit
          in: query
          schema: { type: integer, default: 10 }
      responses:
        '200':
          description: Success

  /posts/{postId}/comments:
    post:
      summary: Create a comment on a post
      security: [{ bearerAuth: [] }]
      parameters:
        - name: postId
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [content]
              properties:
                content: { type: string }
                parentCommentId: { type: string, format: uuid, nullable: true }
      responses:
        '201':
          description: Comment created
    get:
      summary: Get top-level comments for a post
      security: [{ bearerAuth: [] }]
      parameters:
        - name: postId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /comments/{commentId}/replies:
    get:
      summary: Get replies to a comment
      security: [{ bearerAuth: [] }]
      parameters:
        - name: commentId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /comments/{commentId}/thread:
    get:
      summary: Get entire comment thread
      security: [{ bearerAuth: [] }]
      parameters:
        - name: commentId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /comments/{id}:
    put:
      summary: Update a comment
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
             schema:
               type: object
               properties:
                 content: { type: string }
      responses:
        '200':
          description: Success
    delete:
      summary: Delete a comment
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /comments/{id}/like:
    post:
      summary: Like/React to a comment
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                reactionType: { type: string, default: 'like' }
      responses:
        '200':
          description: Success

  /communities:
    post:
      summary: Create a new community
      security: [{ bearerAuth: [] }]
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              required: [name]
              properties:
                name: { type: string }
                description: { type: string }
                isPrivate: { type: boolean }
                avatar: { type: string, format: binary }
                cover: { type: string, format: binary }
      responses:
        '201':
          description: Community created
    get:
      summary: Get all communities (Paginated)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: page
          in: query
          schema: { type: integer, default: 1 }
        - name: limit
          in: query
          schema: { type: integer, default: 10 }
        - name: search
          in: query
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/search:
    get:
      summary: Search public communities
      security: [{ bearerAuth: [] }]
      parameters:
        - name: q
          in: query
          schema: { type: string }
        - name: page
          in: query
          schema: { type: integer, default: 1 }
        - name: limit
          in: query
          schema: { type: integer, default: 10 }
      responses:
        '200':
          description: Success

  /communities/suggested:
    get:
      summary: Get suggested communities
      security: [{ bearerAuth: [] }]
      parameters:
        - name: page
          in: query
          schema: { type: integer, default: 1 }
        - name: limit
          in: query
          schema: { type: integer, default: 10 }
      responses:
        '200':
          description: Success

  /communities/{id}:
    get:
      summary: Get community by ID
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success
    put:
      summary: Update a community
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name: { type: string }
                description: { type: string }
                isPrivate: { type: boolean }
                avatar: { type: string, format: binary }
                cover: { type: string, format: binary }
      responses:
        '200':
          description: Success
    delete:
      summary: Delete a community
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/{id}/join:
    post:
      summary: Join a public community
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/{id}/leave:
    post:
      summary: Leave a community
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/{id}/request-join:
    post:
      summary: Request to join a private community
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '201':
          description: Request sent

  /communities/{id}/join-requests:
    get:
      summary: Get pending join requests (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/{communityId}/join-requests/{requestId}/approve:
    post:
      summary: Approve a join request (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: communityId
          in: path
          required: true
          schema: { type: string }
        - name: requestId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/{communityId}/join-requests/{requestId}/reject:
    post:
      summary: Reject a join request (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: communityId
          in: path
          required: true
          schema: { type: string }
        - name: requestId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/{communityId}/members/{userId}:
    delete:
      summary: Remove a member from a community (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: communityId
          in: path
          required: true
          schema: { type: string }
        - name: userId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/{communityId}/members/{userId}/role:
    patch:
      summary: Change a member's role (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: communityId
          in: path
          required: true
          schema: { type: string }
        - name: userId
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [role]
              properties:
                role: { type: string, enum: [member, moderator, admin] }
      responses:
        '200':
          description: Success

  /groups:
    post:
      summary: Create a standalone group
      security: [{ bearerAuth: [] }]
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name: { type: string }
                description: { type: string }
      responses:
        '201':
          description: Group created
    get:
      summary: Get current user's groups
      security: [{ bearerAuth: [] }]
      responses:
        '200':
          description: Success

  /communities/{communityId}/groups:
    post:
      summary: Create a group under a community
      security: [{ bearerAuth: [] }]
      parameters:
        - name: communityId
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name: { type: string }
                description: { type: string }
      responses:
        '201':
          description: Group created
    get:
      summary: Get all groups in a community
      security: [{ bearerAuth: [] }]
      parameters:
        - name: communityId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /communities/{communityId}/groups/{groupId}:
    put:
      summary: Update a community group
      security: [{ bearerAuth: [] }]
      parameters:
        - name: communityId
          in: path
          required: true
          schema: { type: string }
        - name: groupId
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name: { type: string }
                description: { type: string }
      responses:
        '200':
          description: Success
    delete:
      summary: Delete a community group
      security: [{ bearerAuth: [] }]
      parameters:
        - name: communityId
          in: path
          required: true
          schema: { type: string }
        - name: groupId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /groups/{id}:
    get:
      summary: Get group by ID
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success
    put:
      summary: Update a standalone group
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name: { type: string }
                description: { type: string }
      responses:
        '200':
          description: Success
    delete:
      summary: Delete a standalone group
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /groups/{groupId}/members:
    post:
      summary: Add a member to a group (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: groupId
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [userId]
              properties:
                userId: { type: string, format: uuid }
      responses:
        '201':
          description: Success

  /groups/{groupId}/members/{memberId}:
    delete:
      summary: Remove a member from a group (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: groupId
          in: path
          required: true
          schema: { type: string }
        - name: memberId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success
    patch:
      summary: Change a group member's role (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: groupId
          in: path
          required: true
          schema: { type: string }
        - name: memberId
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [role]
              properties:
                role: { type: string, enum: [member, admin] }
      responses:
        '200':
          description: Success

  /groups/{groupId}/leave:
    post:
      summary: Leave a group
      security: [{ bearerAuth: [] }]
      parameters:
        - name: groupId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /groups/{groupId}/invite-link:
    post:
      summary: Generate an invite link for a group (Admin only)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: groupId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /groups/join-via-link:
    post:
      summary: Join a group using an invite token
      security: [{ bearerAuth: [] }]
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [inviteToken]
              properties:
                inviteToken: { type: string }
      responses:
        '200':
          description: Success

  /groups/{groupId}/settings/admin-only-messaging:
    patch:
      summary: Toggle admin-only messaging for a group
      security: [{ bearerAuth: [] }]
      parameters:
        - name: groupId
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                adminOnlyMessaging: { type: boolean }
      responses:
        '200':
          description: Success

  /users/{userId}/follow:
    post:
      summary: Follow a user
      security: [{ bearerAuth: [] }]
      parameters:
        - name: userId
          in: path
          required: true
          schema: { type: string }
      responses:
        '201':
          description: Followed
    delete:
      summary: Unfollow a user
      security: [{ bearerAuth: [] }]
      parameters:
        - name: userId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Unfollowed

  /users/{userId}/followers:
    get:
      summary: Get user's followers
      security: [{ bearerAuth: [] }]
      parameters:
        - name: userId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /users/{userId}/following:
    get:
      summary: Get user's following
      security: [{ bearerAuth: [] }]
      parameters:
        - name: userId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /users/{userId}/follow-status:
    get:
      summary: Get follow status for a user
      security: [{ bearerAuth: [] }]
      parameters:
        - name: userId
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /groups/{groupId}/messages:
    post:
      summary: Send a message to a group
      security: [{ bearerAuth: [] }]
      parameters:
        - name: groupId
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                content: { type: string }
                replyToMessageId: { type: string, format: uuid }
                image: { type: string, format: binary }
                video: { type: string, format: binary }
                audio: { type: string, format: binary }
      responses:
        '201':
          description: Message sent
    get:
      summary: Get messages in a group (Paginated)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: groupId
          in: path
          required: true
          schema: { type: string }
        - name: page
          in: query
          schema: { type: integer, default: 1 }
        - name: limit
          in: query
          schema: { type: integer, default: 50 }
      responses:
        '200':
          description: Success

  /group-chats:
    get:
      summary: Get all group chats for user
      security: [{ bearerAuth: [] }]
      responses:
        '200':
          description: Success

  /messages/{id}:
    put:
      summary: Update a message
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                content: { type: string }
      responses:
        '200':
          description: Success
    delete:
      summary: Delete a message
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /messages/{id}/react:
    post:
      summary: React to a message
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                emoji: { type: string, default: '\uD83D\uDC4D' }
      responses:
        '201':
          description: Success
    delete:
      summary: Remove reaction from a message
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /notifications:
    get:
      summary: Get user notifications (Paginated)
      security: [{ bearerAuth: [] }]
      parameters:
        - name: page
          in: query
          schema: { type: integer, default: 1 }
        - name: limit
          in: query
          schema: { type: integer, default: 20 }
        - name: unreadOnly
          in: query
          schema: { type: string, enum: ['true', 'false'], default: 'false' }
      responses:
        '200':
          description: Success

  /notifications/{id}/read:
    patch:
      summary: Mark a notification as read
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success

  /notifications/read-all:
    patch:
      summary: Mark all notifications as read
      security: [{ bearerAuth: [] }]
      responses:
        '200':
          description: Success

  /notifications/{id}:
    delete:
      summary: Delete a notification
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Success
